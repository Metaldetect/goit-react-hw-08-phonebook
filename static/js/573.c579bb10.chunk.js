"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[573],{6573:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var r=n(6907),a=n(5861),i=n(4687),s=n.n(i),o=n(2791),c=n(6727),l=n(5705),u=n(1686),m=n.n(u),d=n(9434),h=n(6361),f=function(e){return e.contacts.items},x=function(e){return e.filters},p=n(9164),v=n(890),Z=n(8633),j=n(4294),g=n(184),y=c.Ry().shape({name:c.Z_().trim().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d`Artagnan").required("Name is required"),phone:c.Z_().trim().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required("Phone number is required")});var b=function(){var e=(0,d.I0)(),t=(0,d.v9)(f),n="An error occurred while adding the contact.",r=function(e,n){return!(!t||!Array.isArray(t))&&t.some((function(t){return t.name===e||t.number===n}))},i=function(){var t=(0,a.Z)(s().mark((function t(a,i){var o,c,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=a.name,c=a.phone,!r(o,c)){t.next=5;break}return m().Notify.failure("Contact with the same name or phone number already exists!"),t.abrupt("return");case 5:return t.prev=5,t.next=8,e((0,h.uK)({name:o,number:c}));case 8:l=t.sent,h.uK.fulfilled.match(l)?(i.resetForm(),m().Notify.success("Contact added successfully!")):m().Notify.failure(n),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),m().Notify.failure(n);case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}();return(0,g.jsxs)(p.Z,{maxWidth:"xs",children:[(0,g.jsx)(v.Z,{variant:"h2",align:"center",gutterBottom:!0,sx:{marginTop:8},children:"Phonebook"}),(0,g.jsx)(l.J9,{initialValues:{name:"",phone:""},validationSchema:y,onSubmit:i,children:(0,g.jsxs)(l.l0,{children:[(0,g.jsx)(l.gN,{as:Z.Z,fullWidth:!0,id:"name",name:"name",label:"Name",variant:"outlined",margin:"normal",helperText:(0,g.jsx)(l.Bc,{name:"name"})}),(0,g.jsx)(l.gN,{as:Z.Z,fullWidth:!0,id:"phone",name:"phone",label:"Phone",variant:"outlined",margin:"normal",helperText:(0,g.jsx)(l.Bc,{name:"phone"})}),(0,g.jsx)(j.Z,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",sx:{mt:2},children:"Add Contact"})]})})]})},w=n(5527),I=n(1889),A=n(3366),C=n(7462),N=n(3733),k=n(4419),S=n(9480),F=n(6934),P=n(1402),z=n(5878),L=n(1217);function M(e){return(0,L.Z)("MuiListItemAvatar",e)}(0,z.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var B=["className"],T=(0,F.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.ownerState;return(0,C.Z)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})})),W=o.forwardRef((function(e,t){var n=(0,P.Z)({props:e,name:"MuiListItemAvatar"}),r=n.className,a=(0,A.Z)(n,B),i=o.useContext(S.Z),s=(0,C.Z)({},n,{alignItems:i.alignItems}),c=function(e){var t=e.alignItems,n=e.classes,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,k.Z)(r,M,n)}(s);return(0,g.jsx)(T,(0,C.Z)({className:(0,N.Z)(c.root,r),ownerState:s,ref:t},a))})),_=n(3044),q=n(4554),R=n(7247),D=function(e){var t=e.id,n=e.name,r=e.phone,i=(0,d.I0)(),o=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i((0,h.GK)(t));case 3:m().Notify.success("Contact deleted successfully!"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),m().Notify.failure("An error occurred while deleting the contact.");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)(w.Z,{elevation:3,sx:{display:"flex",alignItems:"center",justifyContent:"space-around",padding:"16px"},children:[(0,g.jsx)(W,{children:(0,g.jsx)(_.Z,{alt:"Avatar ".concat(n),src:"https://source.unsplash.com/random/50x50"})}),(0,g.jsxs)(q.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,g.jsx)(v.Z,{variant:"h4",children:n}),(0,g.jsx)(v.Z,{variant:"body1",sx:{color:"#555",marginLeft:"16px"},children:r})]}),(0,g.jsx)(j.Z,{variant:"outlined",startIcon:(0,g.jsx)(R.Z,{}),onClick:o,children:"Delete"})]})};var K=function(){var e=(0,d.v9)(x),t=(0,d.v9)(f);if(!t||!Array.isArray(t)||0===t.length)return null;var n=t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));return null!==n&&void 0!==n&&n.length||m().Notify.info("No contacts found."),(0,g.jsx)(w.Z,{sx:{p:2},children:(0,g.jsx)(I.ZP,{container:!0,spacing:3,justifyContent:"space-between",sx:{maxWidth:600,margin:"0 auto"},children:n.map((function(e){var t=e.id,n=e.name,r=e.number;return(0,g.jsx)(I.ZP,{item:!0,xs:12,children:(0,g.jsx)(D,{id:t,name:n,phone:r})},t)}))})})},V=n(6895),H=n(4925),J=n(8096);var E=function(){var e=(0,d.I0)(),t=(0,d.v9)(x);return(0,g.jsx)(q.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",mt:3,mb:5},children:(0,g.jsxs)(J.Z,{children:[(0,g.jsx)(v.Z,{variant:"h5",align:"center",gutterBottom:!0,children:"Filter contacts:"}),(0,g.jsx)(H.Z,{htmlFor:"filter"}),(0,g.jsx)(Z.Z,{type:"text",placeholder:"Enter a name",id:"filter",name:"filter",value:t,onChange:function(t){e((0,V.Tv)(t.target.value.trim()))},sx:{width:"100%",marginTop:"16px",mt:1}})]})})};var G=function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(r.B6,{children:[(0,g.jsx)(r.ql,{children:(0,g.jsx)("title",{children:"Phonebook"})}),(0,g.jsx)(b,{}),(0,g.jsx)(E,{}),(0,g.jsx)(K,{})]})})}},7247:function(e,t,n){var r=n(4836);t.Z=void 0;var a=r(n(5649)),i=n(184),s=(0,a.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=s}}]);
//# sourceMappingURL=573.c579bb10.chunk.js.map