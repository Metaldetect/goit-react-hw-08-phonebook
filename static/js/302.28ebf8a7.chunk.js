"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[302],{3302:function(n,e,r){r.r(e),r.d(e,{default:function(){return mn}});var t,a,o,i,c,s,u,l=r(6907),d=r(5861),m=r(4687),f=r.n(m),h=(r(2791),r(6727)),p=r(5705),x=r(168),b=r(7686),v=b.Z.div(t||(t=(0,x.Z)(["\n  width: 30%;\n  margin: 0 auto;\n"]))),g=b.Z.h1(a||(a=(0,x.Z)(["\n  font-size: 3vw;\n  margin-top: 2rem;\n  margin-bottom: 2rem;\n  display: flex;\n  align-item: center;\n  justify-content: center;\n"]))),Z=b.Z.label(o||(o=(0,x.Z)(["\n  font-weight: bold;\n"]))),j=(0,b.Z)(p.Bc)(i||(i=(0,x.Z)(["\n  color: red;\n  margin-top: 0.3125rem;\n"]))),y=b.Z.button(c||(c=(0,x.Z)(["\n  width: 100%;\n  height: 2.5rem;\n  padding: 0.3125rem 0.46875rem;\n  margin-top: 0.625rem;\n  margin-bottom: 0.5rem;\n  background-color: #007bff;\n  color: #fff;\n  border: none;\n  border-radius: 0.15625rem;\n  font-size: 1rem;\n  transition: background-color 0.2s ease-in-out;\n\n  &:hover {\n    background-color: #0056b3;\n  }\n"]))),w=b.Z.div(s||(s=(0,x.Z)(["\n  max-width: 18.75rem;\n  display: flex;\n  flex-direction: column;\n"]))),k=b.Z.div(u||(u=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.625rem;\n  label {\n    margin-bottom: 0.3125rem;\n    font-size: 1rem;\n  }\n  input {\n    padding: 0.5rem;\n    border: 0.0625rem solid #ccc;\n    border-radius: 0.25rem;\n    font-size: 1rem;\n    margin-bottom: 0.5rem;\n\n    &:focus {\n      box-shadow: 0 0 1rem #007bff;\n      outline: none;\n    }\n  }\n  .error {\n    color: red;\n    font-size: 0.875rem;\n    margin-top: 0.3125rem;\n  }\n"]))),N=r(1686),z=r.n(N),C=r(9434),A=r(6382),F=r(1243);F.Z.defaults.baseURL="https://connections-api.herokuapp.com";var _=(0,A.hg)("contacts/fetchAll",function(){var n=(0,d.Z)(f().mark((function n(e,r){var t;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,F.Z.get("/contacts");case 3:return t=n.sent,n.abrupt("return",t.data);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",r.rejectWithValue(n.t0.message));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,r){return n.apply(this,arguments)}}()),q=(0,A.hg)("contacts/addContact",function(){var n=(0,d.Z)(f().mark((function n(e,r){var t,a,o;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.name,a=e.number,n.prev=1,n.next=4,F.Z.post("/contacts",{name:t,number:a});case 4:return o=n.sent,n.abrupt("return",o.data);case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",r.rejectWithValue(n.t0.message));case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e,r){return n.apply(this,arguments)}}()),P=(0,A.hg)("contacts/deleteContact",function(){var n=(0,d.Z)(f().mark((function n(e,r){var t;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,F.Z.delete("/contacts/".concat(e));case 3:return t=n.sent,n.abrupt("return",t.data);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",r.rejectWithValue(n.t0.message));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,r){return n.apply(this,arguments)}}()),V=function(n){return n.contacts},B=function(n){return n.filters.filter},L=r(184),W=h.Ry().shape({name:h.Z_().trim().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d`Artagnan").required("Name is required"),phone:h.Z_().trim().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required("Phone number is required")});var I,J,R,S,E,K,M,T=function(){var n=(0,C.I0)(),e=(0,C.v9)(V),r=function(n,r){return!(!e||!Array.isArray(e))&&e.some((function(e){return e.name===n||e.phone===r}))},t=function(){var e=(0,d.Z)(f().mark((function e(t,a){var o,i,c,s,u,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.name,i=t.phone,c=r(o,i),s="Contact added successfully!",u="An error occurred while adding the contact.",!c){e.next=7;break}return z().Notify.failure("Contact with the same name or phone number already exists!"),e.abrupt("return");case 7:return e.prev=7,e.next=10,n(q({name:o,number:i}));case 10:l=e.sent,q.fulfilled.match(l)?(a.resetForm(),z().Notify.success(s)):z().Notify.failure(u),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),z().Notify.failure(u);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(n,r){return e.apply(this,arguments)}}();return(0,L.jsxs)(v,{children:[(0,L.jsx)(g,{children:"Phonebook"}),(0,L.jsx)(p.J9,{initialValues:{name:"",phone:""},validationSchema:W,onSubmit:t,children:(0,L.jsxs)(p.l0,{as:w,children:[(0,L.jsxs)(k,{children:[(0,L.jsx)(Z,{htmlFor:"name",children:"Name"}),(0,L.jsx)(p.gN,{type:"text",id:"name",name:"name"}),(0,L.jsx)(j,{name:"name",component:"div",className:"error"})]}),(0,L.jsxs)(k,{children:[(0,L.jsx)(Z,{htmlFor:"phone",children:"Phone"}),(0,L.jsx)(p.gN,{type:"text",id:"phone",name:"phone"}),(0,L.jsx)(j,{name:"phone",component:"div",className:"error"})]}),(0,L.jsx)(y,{type:"submit",children:"Add Contact"})]})})]})},U=b.Z.ul(I||(I=(0,x.Z)(["\n  width: 30%;\n  list-style: none;\n  padding: 0;\n  margin: 0 auto;\n"]))),Y=r(9439),$=b.Z.li(J||(J=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  padding: 0.5rem;\n  border: 1px solid #ccc;\n  border-radius: 0.25rem;\n  margin-bottom: 1rem;\n"]))),D=b.Z.div(R||(R=(0,x.Z)(["\n  font-size: 1.5rem;\n  margin-right: 1rem;\n"]))),G=b.Z.div(S||(S=(0,x.Z)(["\n  flex: 1;\n"]))),H=b.Z.h3(E||(E=(0,x.Z)(["\n  margin: 0;\n  font-size: 1.5vw;\n"]))),O=b.Z.p(K||(K=(0,x.Z)(["\n  margin: 0;\n  font-size: 1vw;\n  color: #666;\n"]))),Q=b.Z.button(M||(M=(0,x.Z)(["\n  padding: 0.25rem 0.5rem;\n  background-color: #dc3545;\n  color: #fff;\n  border: none;\n  border-radius: 0.25rem;\n  font-size: 0.875rem;\n  margin-left: 0.625rem;\n"]))),X=r(7425),nn=r(8820);var en=function(n){var e=n.id,r=n.name,t=n.phone,a=P(),o=(0,Y.Z)(a,1)[0],i=function(){var n=(0,d.Z)(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o(e);case 3:z().Notify.success("Contact deleted successfully!"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),z().Notify.failure("An error occurred while deleting the contact.");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();return(0,L.jsxs)($,{children:[(0,L.jsx)(D,{children:(0,L.jsx)(X.Nwp,{})}),(0,L.jsxs)(G,{children:[(0,L.jsx)(H,{children:r}),(0,L.jsx)(O,{children:t})]}),(0,L.jsx)(Q,{onClick:function(){return i(e)},children:(0,L.jsx)(nn.YK6,{})})]},e)};var rn,tn,an,on=function(){var n=_().data,e=(0,C.v9)(B);if(!n)return null;var r=n.filter((function(n){return"string"===typeof e&&"string"===typeof n.name&&n.name.toLowerCase().includes(e.toLowerCase())}));return null!==r&&void 0!==r&&r.length||z().Notify.info("No contacts found."),(0,L.jsx)(U,{children:r.map((function(n){var e=n.id,r=n.name,t=n.phone;return(0,L.jsx)(en,{id:e,name:r,phone:t},e)}))})},cn=b.Z.div(rn||(rn=(0,x.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  // margin-top: 1rem;\n  margin-bottom: 2rem;\n"]))),sn=b.Z.label(tn||(tn=(0,x.Z)(["\n  margin-top: 0.625rem;\n  font-weight: bold;\n  font-size: 2vw;\n  display: block;\n"]))),un=b.Z.input(an||(an=(0,x.Z)(["\n  padding: 0.5rem;\n  width: 20%;\n  font-size: 1rem;\n  border: 0.0625rem solid #ccc;\n  border-radius: 0.25rem;\n  margin-top: 0.3125rem;\n\n  &:focus {\n    box-shadow: 0 0 1rem #007bff;\n    outline: none;\n  }\n"]))),ln=r(6895);var dn=function(){var n=(0,C.I0)(),e=(0,C.v9)(B);return(0,L.jsxs)(cn,{children:[(0,L.jsx)(sn,{htmlFor:"filter",children:"Filter contacts:"}),(0,L.jsx)(un,{type:"text",placeholder:"Enter a name",id:"filter",name:"filter",value:e,onChange:function(e){n((0,ln.Tv)(e.target.value.trim()))}})]})};var mn=function(){return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(l.B6,{children:[(0,L.jsx)(l.ql,{children:(0,L.jsx)("title",{children:"Phonebook"})}),(0,L.jsx)(T,{}),(0,L.jsx)("h2",{children:"Contacts"}),(0,L.jsx)(dn,{}),(0,L.jsx)(on,{})]})})}}}]);
//# sourceMappingURL=302.28ebf8a7.chunk.js.map