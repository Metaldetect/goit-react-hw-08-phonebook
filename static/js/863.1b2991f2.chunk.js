"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[863],{863:function(e,n,r){r.r(n),r.d(n,{default:function(){return K}});var t=r(6907),a=r(5861),i=r(4687),s=r.n(i),c=(r(2791),r(6727)),o=r(5705),l=r(1686),u=r.n(l),d=r(9434),h=r(6361),m=function(e){return e.contacts.items},f=function(e){return e.filters},x=r(9164),p=r(890),v=r(1324),j=r(4294),y=r(184),Z=c.Ry().shape({name:c.Z_().trim().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d`Artagnan").required("Name is required"),phone:c.Z_().trim().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required("Phone number is required")});var g=function(){var e=(0,d.I0)(),n=(0,d.v9)(m),r="An error occurred while adding the contact.",t=function(e,r){return!(!n||!Array.isArray(n))&&n.some((function(n){return n.name===e||n.number===r}))},i=function(){var n=(0,a.Z)(s().mark((function n(a,i){var c,o,l;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=a.name,o=a.phone,!t(c,o)){n.next=5;break}return u().Notify.failure("Contact with the same name or phone number already exists!"),n.abrupt("return");case 5:return n.prev=5,n.next=8,e((0,h.uK)({name:c,number:o}));case 8:l=n.sent,h.uK.fulfilled.match(l)?(i.resetForm(),u().Notify.success("Contact added successfully!")):u().Notify.failure(r),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),u().Notify.failure(r);case 15:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(e,r){return n.apply(this,arguments)}}();return(0,y.jsxs)(x.Z,{maxWidth:"xs",children:[(0,y.jsx)(p.Z,{variant:"h2",align:"center",gutterBottom:!0,sx:{marginTop:8},children:"Phonebook"}),(0,y.jsx)(o.J9,{initialValues:{name:"",phone:""},validationSchema:Z,onSubmit:i,children:(0,y.jsxs)(o.l0,{children:[(0,y.jsx)(o.gN,{as:v.Z,fullWidth:!0,id:"name",name:"name",label:"Name",variant:"outlined",margin:"normal",helperText:(0,y.jsx)(o.Bc,{name:"name"})}),(0,y.jsx)(o.gN,{as:v.Z,fullWidth:!0,id:"phone",name:"phone",label:"Phone",variant:"outlined",margin:"normal",helperText:(0,y.jsx)(o.Bc,{name:"phone"})}),(0,y.jsx)(j.Z,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",sx:{mt:2},children:"Add Contact"})]})})]})},b=r(5527),w=r(1889),k=r(6535),C=r(6259),N=r(6112),A=r(3400),P=r(9482),z=r(7247);var B=function(e){var n=e.id,r=e.name,t=e.phone,i=(0,d.I0)(),c=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i((0,h.GK)(n));case 3:u().Notify.success("Contact deleted successfully!"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),u().Notify.failure("An error occurred while deleting the contact.");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,y.jsxs)(k.ZP,{children:[(0,y.jsx)(P.Nwp,{fontSize:"large"}),(0,y.jsx)(C.Z,{primary:r,secondary:t}),(0,y.jsx)(N.Z,{children:(0,y.jsx)(A.Z,{edge:"end","aria-label":"delete",onClick:c,children:(0,y.jsx)(z.Z,{})})})]})};var _=function(){var e=(0,d.v9)(f),n=(0,d.v9)(m);if(!n||!Array.isArray(n)||0===n.length)return null;var r=n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())}));return null!==r&&void 0!==r&&r.length||u().Notify.info("No contacts found."),(0,y.jsx)(b.Z,{elevation:3,sx:{p:2},children:(0,y.jsx)(w.ZP,{container:!0,spacing:2,justifyContent:"center",children:r.map((function(e){var n=e.id,r=e.name,t=e.number;return(0,y.jsx)(w.ZP,{item:!0,xs:12,children:(0,y.jsx)(B,{id:n,name:r,phone:t})},n)}))})})},q=r(6895),F=r(4925),T=r(8096),I=r(4554);var W=function(){var e=(0,d.I0)(),n=(0,d.v9)(f);return(0,y.jsx)(I.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",mt:3,mb:5},children:(0,y.jsxs)(T.Z,{children:[(0,y.jsx)(p.Z,{variant:"h5",align:"center",gutterBottom:!0,children:"Filter contacts:"}),(0,y.jsx)(F.Z,{htmlFor:"filter"}),(0,y.jsx)(v.Z,{type:"text",placeholder:"Enter a name",id:"filter",name:"filter",value:n,onChange:function(n){e((0,q.Tv)(n.target.value.trim()))},sx:{width:"100%",marginTop:"16px",mt:1}})]})})};var K=function(){return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(t.B6,{children:[(0,y.jsx)(t.ql,{children:(0,y.jsx)("title",{children:"Phonebook"})}),(0,y.jsx)(g,{}),(0,y.jsx)(W,{}),(0,y.jsx)(_,{})]})})}}}]);
//# sourceMappingURL=863.1b2991f2.chunk.js.map