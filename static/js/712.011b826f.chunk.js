"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[712],{6712:function(n,e,r){r.r(e),r.d(e,{default:function(){return fn}});var t,o,a,i,c,s,d,l=r(6907),u=r(5861),m=r(9439),f=r(4687),h=r.n(f),p=(r(2791),r(6727)),x=r(5705),b=r(168),g=r(7686),v=g.Z.div(t||(t=(0,b.Z)(["\n  width: 30%;\n  margin: 0 auto;\n"]))),Z=g.Z.h1(o||(o=(0,b.Z)(["\n  font-size: 3vw;\n  margin-top: 2rem;\n  margin-bottom: 2rem;\n  display: flex;\n  align-item: center;\n  justify-content: center;\n"]))),y=g.Z.label(a||(a=(0,b.Z)(["\n  font-weight: bold;\n"]))),j=(0,g.Z)(x.Bc)(i||(i=(0,b.Z)(["\n  color: red;\n  margin-top: 0.3125rem;\n"]))),w=g.Z.button(c||(c=(0,b.Z)(["\n  width: 100%;\n  height: 2.5rem;\n  padding: 0.3125rem 0.46875rem;\n  margin-top: 0.625rem;\n  margin-bottom: 0.5rem;\n  background-color: #007bff;\n  color: #fff;\n  border: none;\n  border-radius: 0.15625rem;\n  font-size: 1rem;\n  transition: background-color 0.2s ease-in-out;\n\n  &:hover {\n    background-color: #0056b3;\n  }\n"]))),k=g.Z.div(s||(s=(0,b.Z)(["\n  max-width: 18.75rem;\n  display: flex;\n  flex-direction: column;\n"]))),C=g.Z.div(d||(d=(0,b.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.625rem;\n  label {\n    margin-bottom: 0.3125rem;\n    font-size: 1rem;\n  }\n  input {\n    padding: 0.5rem;\n    border: 0.0625rem solid #ccc;\n    border-radius: 0.25rem;\n    font-size: 1rem;\n    margin-bottom: 0.5rem;\n\n    &:focus {\n      box-shadow: 0 0 1rem #007bff;\n      outline: none;\n    }\n  }\n  .error {\n    color: red;\n    font-size: 0.875rem;\n    margin-top: 0.3125rem;\n  }\n"]))),F=r(1686),N=r.n(F),z=r(1465),A=r(255),q=(0,z.LC)({reducerPath:"contactsApi",baseQuery:(0,A.ni)({baseUrl:"https://64fb1ae6cb9c00518f7aa678.mockapi.io/api/v1"}),endpoints:function(n){return{getContacts:n.query({query:function(){return"/contacts"},providesTags:["contacts"]}),getFilter:n.query({query:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"/contacts".concat(n?"?name=".concat(n):"")},providesTags:["contacts"]}),addContactToFilter:n.mutation({query:function(n){return{url:"/contacts",method:"POST",body:n}},invalidatesTags:["contacts"]}),deleteContactFromFilter:n.mutation({query:function(n){return{url:"/contacts/".concat(n),method:"DELETE"}},invalidatesTags:["contacts"]})}}}),T=q.useGetContactsQuery,P=(q.useGetFilterQuery,q.useAddContactToFilterMutation),_=q.useDeleteContactFromFilterMutation,E=r(184),L=p.Ry().shape({name:p.Z_().trim().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d`Artagnan").required("Name is required"),phone:p.Z_().trim().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required("Phone number is required")});var M,S,B,Q,D,G,J,I=function(){var n=T().data,e=P(),r=(0,m.Z)(e,1)[0],t=function(e,r){return!(!n||!Array.isArray(n))&&n.some((function(n){return n.name===e||n.phone===r}))},o=function(){var n=(0,u.Z)(h().mark((function n(e,o){var a,i,c,s,d;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.name,i=e.phone,c=t(a,i),s="Contact added successfully!",d="An error occurred while adding the contact.",!c){n.next=7;break}return N().Notify.failure("Contact with the same name or phone number already exists!"),n.abrupt("return");case 7:return n.prev=7,n.next=10,r({name:a,phone:i});case 10:if(!n.sent.error){n.next=14;break}return N().Notify.failure(d),n.abrupt("return");case 14:o.resetForm(),N().Notify.success(s),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(7),N().Notify.failure(d);case 21:case"end":return n.stop()}}),n,null,[[7,18]])})));return function(e,r){return n.apply(this,arguments)}}();return(0,E.jsxs)(v,{children:[(0,E.jsx)(Z,{children:"Phonebook"}),(0,E.jsx)(x.J9,{initialValues:{name:"",phone:""},validationSchema:L,onSubmit:o,children:(0,E.jsxs)(x.l0,{as:k,children:[(0,E.jsxs)(C,{children:[(0,E.jsx)(y,{htmlFor:"name",children:"Name"}),(0,E.jsx)(x.gN,{type:"text",id:"name",name:"name"}),(0,E.jsx)(j,{name:"name",component:"div",className:"error"})]}),(0,E.jsxs)(C,{children:[(0,E.jsx)(y,{htmlFor:"phone",children:"Phone"}),(0,E.jsx)(x.gN,{type:"text",id:"phone",name:"phone"}),(0,E.jsx)(j,{name:"phone",component:"div",className:"error"})]}),(0,E.jsx)(w,{type:"submit",children:"Add Contact"})]})})]})},K=g.Z.ul(M||(M=(0,b.Z)(["\n  width: 30%;\n  list-style: none;\n  padding: 0;\n  margin: 0 auto;\n"]))),O=r(5048),R=function(n){return n.filter},U=g.Z.li(S||(S=(0,b.Z)(["\n  display: flex;\n  align-items: center;\n  padding: 0.5rem;\n  border: 1px solid #ccc;\n  border-radius: 0.25rem;\n  margin-bottom: 1rem;\n"]))),V=g.Z.div(B||(B=(0,b.Z)(["\n  font-size: 1.5rem;\n  margin-right: 1rem;\n"]))),Y=g.Z.div(Q||(Q=(0,b.Z)(["\n  flex: 1;\n"]))),$=g.Z.h3(D||(D=(0,b.Z)(["\n  margin: 0;\n  font-size: 1.5vw;\n"]))),H=g.Z.p(G||(G=(0,b.Z)(["\n  margin: 0;\n  font-size: 1vw;\n  color: #666;\n"]))),W=g.Z.button(J||(J=(0,b.Z)(["\n  padding: 0.25rem 0.5rem;\n  background-color: #dc3545;\n  color: #fff;\n  border: none;\n  border-radius: 0.25rem;\n  font-size: 0.875rem;\n  margin-left: 0.625rem;\n"]))),X=r(7425),nn=r(8820);var en=function(n){var e=n.id,r=n.name,t=n.phone,o=_(),a=(0,m.Z)(o,1)[0],i=function(){var n=(0,u.Z)(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a(e);case 3:N().Notify.success("Contact deleted successfully!"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),N().Notify.failure("An error occurred while deleting the contact.");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();return(0,E.jsxs)(U,{children:[(0,E.jsx)(V,{children:(0,E.jsx)(X.Nwp,{})}),(0,E.jsxs)(Y,{children:[(0,E.jsx)($,{children:r}),(0,E.jsx)(H,{children:t})]}),(0,E.jsx)(W,{onClick:function(){return i(e)},children:(0,E.jsx)(nn.YK6,{})})]},e)};var rn,tn,on,an=function(){var n=T().data,e=(0,O.v9)(R);if(!n)return null;var r=n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())}));return null!==r&&void 0!==r&&r.length||N().Notify.info("No contacts found."),(0,E.jsx)(K,{children:r.map((function(n){var e=n.id,r=n.name,t=n.phone;return(0,E.jsx)(en,{id:e,name:r,phone:t},e)}))})},cn=g.Z.div(rn||(rn=(0,b.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  // margin-top: 1rem;\n  margin-bottom: 2rem;\n"]))),sn=g.Z.label(tn||(tn=(0,b.Z)(["\n  margin-top: 0.625rem;\n  font-weight: bold;\n  font-size: 2vw;\n  display: block;\n"]))),dn=g.Z.input(on||(on=(0,b.Z)(["\n  padding: 0.5rem;\n  width: 20%;\n  font-size: 1rem;\n  border: 0.0625rem solid #ccc;\n  border-radius: 0.25rem;\n  margin-top: 0.3125rem;\n\n  &:focus {\n    box-shadow: 0 0 1rem #007bff;\n    outline: none;\n  }\n"]))),ln=(0,r(5273).oM)({name:"filter",initialState:"",reducers:{setFilter:function(n,e){return e.payload}}}),un=ln.actions.setFilter;ln.reducer;var mn=function(){var n=(0,O.I0)(),e=(0,O.v9)(R);return(0,E.jsxs)(cn,{children:[(0,E.jsx)(sn,{htmlFor:"filter",children:"Filter contacts:"}),(0,E.jsx)(dn,{type:"text",placeholder:"Enter a name",id:"filter",name:"filter",value:e,onChange:function(e){n(un(e.target.value.trim()))}})]})};var fn=function(){return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(l.B6,{children:[(0,E.jsx)(l.ql,{children:(0,E.jsx)("title",{children:"Phonebook"})}),(0,E.jsx)(I,{}),(0,E.jsx)("h2",{children:"Contacts"}),(0,E.jsx)(mn,{}),(0,E.jsx)(an,{})]})})}}}]);
//# sourceMappingURL=712.011b826f.chunk.js.map